<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Saint Valentin üíò</title>
  <style>
    :root {
      --bg1: #ff5ea8;
      --bg2: #ff9a9e;
      --card: rgba(255, 255, 255, 0.22);
      --card2: rgba(255, 255, 255, 0.14);
      --text: #ffffff;
      --shadow: rgba(0,0,0,0.18);
      --btnYes: #25d366;
      --btnNo: #ff3b3b;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      overflow: hidden;
      background: radial-gradient(1200px 700px at 20% 10%, rgba(255,255,255,0.25), transparent 60%),
                  radial-gradient(900px 600px at 80% 30%, rgba(255,255,255,0.18), transparent 60%),
                  linear-gradient(135deg, var(--bg1), var(--bg2));
      display: grid;
      place-items: center;
    }

    /* petits coeurs en fond */
    .hearts {
      position: fixed;
      inset: 0;
      pointer-events: none;
      opacity: 0.25;
      filter: blur(0.2px);
    }
    .heart {
      position: absolute;
      width: 18px;
      height: 18px;
      transform: rotate(45deg);
      background: rgba(255,255,255,0.9);
      border-radius: 4px;
      animation: floatUp linear infinite;
    }
    .heart::before, .heart::after {
      content: "";
      position: absolute;
      width: 18px;
      height: 18px;
      background: rgba(255,255,255,0.9);
      border-radius: 50%;
    }
    .heart::before { left: -9px; top: 0; }
    .heart::after  { top: -9px; left: 0; }

    @keyframes floatUp {
      from { transform: translateY(110vh) rotate(45deg); opacity: 0; }
      15%  { opacity: 0.9; }
      to   { transform: translateY(-20vh) rotate(45deg); opacity: 0; }
    }

    .card {
      width: min(920px, 92vw);
      min-height: 420px;
      padding: clamp(18px, 4vw, 36px);
      border-radius: 28px;
      background: linear-gradient(180deg, var(--card), var(--card2));
      box-shadow: 0 18px 50px var(--shadow);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.25);
      display: grid;
      align-content: center;
      justify-items: center;
      gap: 22px;
      text-align: center;
      position: relative;
    }

    h1 {
      margin: 0;
      font-size: clamp(34px, 5vw, 64px);
      line-height: 1.05;
      letter-spacing: -0.02em;
      text-shadow: 0 10px 30px rgba(0,0,0,0.18);
    }

    .subtitle {
      margin: 0;
      opacity: 0.95;
      font-size: clamp(14px, 2vw, 18px);
    }

    .buttons-wrap {
      width: 100%;
      display: grid;
      place-items: center;
      position: relative;
      margin-top: 8px;
      height: 120px; /* zone de jeu pour le bouton Non */
    }

    /* Bouton OUI (centr√©) */
    #yesBtn {
      appearance: none;
      border: none;
      cursor: pointer;
      padding: 16px 34px;
      font-size: 22px;
      border-radius: 999px;
      background: var(--btnYes);
      color: white;
      font-weight: 800;
      box-shadow: 0 14px 30px rgba(0,0,0,0.22);
      transform-origin: center;
      transition: transform 150ms ease, filter 150ms ease;
      user-select: none;
      position: relative;
      z-index: 2;
    }
    #yesBtn:hover {
      filter: brightness(1.05);
      transform: scale(calc(var(--yesScale, 1) + 0.05));
    }
    #yesBtn:active {
      transform: scale(calc(var(--yesScale, 1) - 0.03));
    }

    /* Bouton NON (se d√©place) */
    #noBtn {
      appearance: none;
      border: none;
      cursor: pointer;
      padding: 14px 30px;
      font-size: 20px;
      border-radius: 999px;
      background: var(--btnNo);
      color: white;
      font-weight: 800;
      box-shadow: 0 14px 30px rgba(0,0,0,0.22);
      position: absolute;
      left: 50%;
      top: 62%;
      transform: translate(-50%, -50%);
      transition: left 120ms ease, top 120ms ease, transform 120ms ease;
      user-select: none;
      z-index: 1;
    }

    /* √©cran final */
    .final {
      position: fixed;
      inset: 0;
      display: none;
      place-items: center;
      padding: 24px;
      background: radial-gradient(1000px 600px at 50% 10%, rgba(255,255,255,0.22), transparent 55%),
                  linear-gradient(135deg, #ff4d8d, #ffb3c7);
      overflow: hidden;
    }
    .final.show { display: grid; }

    .final-card {
      width: min(900px, 94vw);
      border-radius: 28px;
      background: rgba(255,255,255,0.18);
      border: 1px solid rgba(255,255,255,0.28);
      box-shadow: 0 22px 70px rgba(0,0,0,0.22);
      backdrop-filter: blur(10px);
      padding: clamp(18px, 4vw, 34px);
      display: grid;
      gap: 18px;
      justify-items: center;
      text-align: center;
    }

    .yesText {
      font-size: clamp(70px, 10vw, 140px);
      font-weight: 1000;
      letter-spacing: 0.02em;
      margin: 0;
      text-shadow: 0 18px 60px rgba(0,0,0,0.22);
    }

    .imgWrap {
      width: min(520px, 92vw);
      aspect-ratio: 16 / 10;
      border-radius: 22px;
      overflow: hidden;
      border: 1px solid rgba(255,255,255,0.35);
      box-shadow: 0 18px 60px rgba(0,0,0,0.18);
      background: rgba(255,255,255,0.10);
      display: grid;
      place-items: center;
    }

    .imgWrap img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .hint {
      opacity: 0.92;
      font-size: 15px;
      margin: 0;
    }

    .smallNote {
      opacity: 0.85;
      font-size: 13px;
      margin-top: -6px;
    }
  </style>
</head>
<body>
  <div class="hearts" id="hearts"></div>

  <main class="card" id="mainCard" aria-label="Question Saint Valentin">
    <h1>Est-ce que tu veux √™tre ma Valentine ? üíò</h1>
    <p class="subtitle">Choisis bien üòá</p>

    <div class="buttons-wrap" id="arena">
      <button id="yesBtn" type="button">Oui</button>
      <button id="noBtn" type="button">Non</button>
    </div>

    <p class="smallNote">PS : le ‚ÄúNon‚Äù est un peu timide‚Ä¶</p>
  </main>

  <section class="final" id="finalScreen" aria-label="R√©ponse finale">
    <div class="final-card">
      <h2 class="yesText">YES</h2>

      <div class="imgWrap">
        <!-- Remplace "happy-guy.jpg" par ton image (mets-la dans le m√™me dossier) -->
        <!-- Tu peux aussi mettre une URL si tu veux -->
        <img id="finalImg" src="happy-guy.jpg" alt="Un mec content" onerror="this.style.display='none'; this.parentElement.innerHTML='<p style=&quot;padding:18px;margin:0;font-weight:800;&quot;>Ajoute une image :<br/>mets <b>happy-guy.jpg</b> √† c√¥t√© du fichier HTML<br/>ou change le <code>src</code> dans le code üòÑ</p>';">
      </div>

      <p class="hint">Bon bah voil√† üòåüíû</p>
    </div>
  </section>

  <script>
    // ====== G√©n√©ration de coeurs flottants (fond) ======
    const hearts = document.getElementById('hearts');
    const HEART_COUNT = 18;

    for (let i = 0; i < HEART_COUNT; i++) {
      const h = document.createElement('div');
      h.className = 'heart';
      const left = Math.random() * 100;         // %
      const dur  = 6 + Math.random() * 8;       // s
      const delay = Math.random() * 6;          // s
      const size = 10 + Math.random() * 18;     // px
      h.style.left = left + '%';
      h.style.animationDuration = dur + 's';
      h.style.animationDelay = (-delay) + 's';
      h.style.width = size + 'px';
      h.style.height = size + 'px';
      h.style.opacity = 0.15 + Math.random() * 0.4;
      hearts.appendChild(h);
    }

    // ====== Logique des boutons ======
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const arena = document.getElementById('arena');
    const finalScreen = document.getElementById('finalScreen');

    let yesScale = 1.0;
    let growthInterval = null;

    function setYesScale(scale) {
      yesScale = scale;
      document.documentElement.style.setProperty('--yesScale', yesScale.toFixed(3));
      yesBtn.style.transform = `scale(${yesScale})`;
    }

    // Oui grossit petit √† petit (automatique)
    function startYesGrowth() {
      if (growthInterval) return;
      growthInterval = setInterval(() => {
        // croissance douce, plafonn√©e
        yesScale = Math.min(2.2, yesScale + 0.02);
        setYesScale(yesScale);
      }, 650);
    }
    startYesGrowth();

    // Petit boost aussi quand tu passes sur Oui
    yesBtn.addEventListener('mouseenter', () => {
      yesScale = Math.min(2.4, yesScale + 0.06);
      setYesScale(yesScale);
    });

    // Le bouton Non fuit la souris
    function moveNoButtonAway(pointerX, pointerY) {
      const rect = arena.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();

      // limites de d√©placement (dans l'ar√®ne)
      const padding = 10;
      const maxX = rect.width - btnRect.width - padding;
      const maxY = rect.height - btnRect.height - padding;

      // random mais influenc√© pour s'√©loigner du curseur
      const localX = pointerX - rect.left;
      const localY = pointerY - rect.top;

      const current = {
        x: (noBtn.offsetLeft || rect.width/2) ,
        y: (noBtn.offsetTop  || rect.height/2)
      };

      // vecteur d'√©loignement
      const dx = current.x - localX;
      const dy = current.y - localY;

      // cible = current + direction + bruit
      const noiseX = (Math.random() - 0.5) * 220;
      const noiseY = (Math.random() - 0.5) * 140;

      let targetX = current.x + dx * 0.6 + noiseX;
      let targetY = current.y + dy * 0.6 + noiseY;

      // clamp dans l'ar√®ne
      targetX = Math.max(padding, Math.min(maxX, targetX));
      targetY = Math.max(padding, Math.min(maxY, targetY));

      noBtn.style.left = targetX + 'px';
      noBtn.style.top  = targetY + 'px';
      noBtn.style.transform = 'translate(0, 0)'; // on passe en coords absolues dans l'ar√®ne
    }

    // Important: utiliser pointerenter + pointermove pour √™tre super r√©actif
    noBtn.addEventListener('pointerenter', (e) => moveNoButtonAway(e.clientX, e.clientY));
    noBtn.addEventListener('pointermove',  (e) => moveNoButtonAway(e.clientX, e.clientY));

    // Aussi si la souris s'approche de l'ar√®ne, on le fait bouger
    arena.addEventListener('pointermove', (e) => {
      const btn = noBtn.getBoundingClientRect();
      const dx = e.clientX - (btn.left + btn.width/2);
      const dy = e.clientY - (btn.top + btn.height/2);
      const dist = Math.hypot(dx, dy);

      // Si on est proche du "Non", il panique
      if (dist < 120) moveNoButtonAway(e.clientX, e.clientY);
    });

    // (Optionnel) Si quelqu‚Äôun arrive √† cliquer Non quand m√™me : petit troll
    noBtn.addEventListener('click', () => {
      moveNoButtonAway(window.innerWidth * Math.random(), window.innerHeight * Math.random());
    });

    // Clique sur Oui => √©cran final
    yesBtn.addEventListener('click', () => {
      if (growthInterval) clearInterval(growthInterval);
      finalScreen.classList.add('show');
    });

    // Bonus: touche √âchap pour revenir
    window.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        finalScreen.classList.remove('show');
        startYesGrowth();
      }
    });

    // Init scale
    setYesScale(yesScale);
  </script>
</body>
</html>
